@if (!string.IsNullOrEmpty(Name))
{
    <li>
        <div class="node" style="--level: @(Path.Count); content-visibility: auto; contain-intrinsic-size: auto 2rem;@(_activePath == Path ? Active : "")">
            <div style="grid-area: spacer / spacer / spacer / spacer; display: flex;">
                <div style="width: 100%; display: flex;">
                    @for (var i = 0; i < Path.Count - 1; i++)
                    {
                        <div class="level-line"></div>
                    }
                </div>
            </div>
            @if (IsFolder)
            {
                <div class="expand" @onclick="ExpandNodeAsync">
                    <Expand IsDown="_expand"></Expand>
                </div>
            }
            <div class="item" @onclick="ExpandNodeAsync">
                <div class="visual-hidden"></div>
                <div class="item-visual">
                    <div class="item-icon">
                        <ShowIcon IsFolder="@IsFolder" Filename="@Name"></ShowIcon>
                    </div>
                </div>
                
                <Tooltip Text="@string.Join("/", Path)" Placement="TooltipPlacement.Bottom" style="flex: 1 1 auto; width: 0; min-width: 0;">
                    <span style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; display: block;">
                        @{
                            var (first,keyword,end) = MatchKeyword(Name);
                        }
                        @if (keyword == null || end == null)
                        {
                            @Name
                        }
                        else
                        {
                            <span class="show-name" style="display: inline-flex;">
                                <span>@first</span>
                                <mark>@keyword</mark>
                                <span>@end</span>
                            </span>
                        }
                    </span>
                </Tooltip>
            </div>
        </div>
        @if (_childrenNode != null && _expand)
        {
            <Tree @ref="_childTree" OnSelectedFile="OnSelectedFile" Node="_childrenNode" OnExpandFolder="OnExpandFolder"></Tree>
        }
    </li>
}