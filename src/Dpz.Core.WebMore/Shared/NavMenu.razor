@inject ISnackbar _snackbar;



<header class="site-header">
    <div class="container site-header__inner">

        <!-- 1. Left: Logo -->
        <div class="header-left">
            <a class="site-logo" href="/" data-pjax>
                <img src="~/favicon.png" alt="logo" class="site-logo__img"/>
                <span class="site-logo__text">叫我阿胖</span>
            </a>
        </div>

        <!-- 2. Center: Navigation Menu -->
        <div class="header-center">
            <nav class="nav-container">
                <ul class="nav-menu">
                    <li class="nav-menu__item @IsActive(MenuItem.Steam)">
                        <NavLink href="/" Match="NavLinkMatch.All" class="nav-menu__link" >
                            <i class="fa fa-home fa-fw"></i>
                            <span class="nav-menu__text">
                                首页
                            </span>
                        </NavLink>
                    </li>
                    <li class="nav-menu__item @IsActive(MenuItem.Steam)">
                        <NavLink href="/article/list" class="nav-menu__link">
                            <i class="fa fa-file-text fa-fw"></i>
                            <span class="nav-menu__text">
                                文章
                            </span>
                        </NavLink>
                    </li>
                    <li class="nav-menu__item @IsActive(MenuItem.Steam)">
                        <NavLink href="/mumble" class="nav-menu__link" data-pjax>
                            <i class="fa fa-bullhorn fa-fw"></i>
                            <span class="nav-menu__text">
                                碎碎念
                            </span>
                        </NavLink>
                    </li>
                    <li class="nav-menu__item @IsActive(MenuItem.Steam)">
                        <NavLink href="/steam" class="nav-menu__link" data-pjax>
                            <i class="fa-brands fa-steam"></i>
                            <span class="nav-menu__text">
                                Steam
                            </span>
                        </NavLink>
                    </li>
                    <li class="nav-menu__item @IsActive(MenuItem.Bookmark)">
                        <NavLink href="/bookmark" class="nav-menu__link" data-pjax>
                            <i class="fa fa-bookmark fa-fw"></i>
                            <span class="nav-menu__text">
                                书签
                            </span>
                        </NavLink>
                    </li>

                    <!-- Dropdown -->
                    <li class="nav-menu__item nav-menu__item--has-sub @MoreActive()">
                        <span class="nav-menu__link" style="cursor: default">
                            <span class="nav-menu__text">更多</span>
                            <i class="fa fa-angle-down nav-menu__arrow"></i>
                        </span>
                        <div class="nav-dropdown">
                            <NavLink href="/albums"
                               class="nav-dropdown__item  @SubActive(MenuItem.Albums)" data-pjax>
                                <i class="fa-solid fa-photo-film"></i> 相册
                            </NavLink>
                            <NavLink href="/code" asp-route-path=""
                               class="nav-dropdown__item  @SubActive(MenuItem.Code)" data-pjax>
                                <i class="fa fa-code"></i> 网站源码
                            </NavLink>
                            <NavLink href="/timeline"
                               class="nav-dropdown__item  @SubActive(MenuItem.Timeline)" data-pjax>
                                <i class="fa fa-calendar"></i> 时间轴
                            </NavLink>
                            <NavLink href="/friends"
                               class="nav-dropdown__item  @SubActive(MenuItem.Friends)" data-pjax>
                                <i class="fa fa-address-book"></i> 友链
                            </NavLink>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- 3. Right: User & Actions -->
        <div class="header-right">

            <!-- Mobile Toggle -->
            <button class="nav-toggle" aria-label="Menu" aria-expanded="false">
                <span class="nav-toggle__icon"></span>
            </button>
        </div>

    </div>
</header>

<!-- Mobile Menu Overlay -->
<div class="mobile-menu-overlay"></div>







@code {
    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
    }

    private MenuItem _menu;
    
    private string IsActive(MenuItem item) => _menu == item ? "nav-menu__item--active" : "";
    string SubActive(MenuItem item) => _menu == item ? "active" : "";
    string MoreActive() => _menu is MenuItem.Albums or MenuItem.Code or MenuItem.Timeline or MenuItem.Friends ? "nav-menu__item--active" : "";

}